<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title th:text="${pageTitle}">ê²°ê³¼</title>
  <link
      rel="stylesheet"
      href="/css/result.css"
      th:href="@{/css/result.css}"
  />

  <style>
      #height-value,
      #weight-value {
        display: none;
      }
      .hidden{display: none;}
    </style>
</head>
<body>
<div id="app">
  <!-- Header  -->
  <header id="header" class="store depth1">
    <div class="top">
      <div class="logo">
        <!-- &lt;!&ndash; ì´ë¯¸ì§€ ê²½ë¡œ ë°”ê¿”ì£¼ì„¸ìš” &ndash;&gt; -->
        <a href="#" onclick="window.location.href='http://localhost:9080'">
          <img th:src="@{/img/black-yagiyo.png}" alt="" src="/" />
        </a>
      </div>
      <div class="search_box">
        <input
            class="searchbar"
            type="text"
            placeholder="ì˜ì–‘ì œ ì„±ë¶„ ê²€ìƒ‰ì„ í•´ë³´ì„¸ìš” ğŸ’Š "
        />
        <div class="search_btn">
          <!-- &lt;!&ndash; ì´ë¯¸ì§€ ê²½ë¡œ ë°”ê¿”ì£¼ì„¸ìš” &ndash;&gt; -->
          <img th:src="@{/img/search_div_icn.png}" alt="" />
        </div>
      </div>
      <nav class="gnb_box">
        <a href="">AIë¶„ì„</a>
        <a href="">ì»¤ë®¤ë‹ˆí‹°</a>
        <a href="">ì•½êµ­ì •ë³´</a>
        <a href="">ë¡œê·¸ì¸</a>
      </nav>
    </div>
  </header>
  <main id="surveyv3" class="surveyv3-result" role="main">
    <section class="result-top">
      <div class="inner">
        <h3 id="result-name">
          <span id="name-value"></span>ë‹˜ì˜ ê±´ê°•ì„¤ë¬¸ ê²°ê³¼ì…ë‹ˆë‹¤
        </h3>
        <dl>
          <dt>ì„±ë³„:</dt>
          <span id="gender-value"></span>
          ã…¤
          <dt>ë‚˜ì´:</dt>
          <span id="age-value"></span>
          <!-- Display BMI value -->
          ã…¤
          <dt class="open-bmi-layer">BMI:</dt>
          <span id="bmi-value"></span>
          <dd><span id="height-value"></span></dd>
          <dd><span id="weight-value"></span></dd>
        </dl>
        <div class="bmi-wrap">
          <div class="graph">
            <ul class="data">
              <li class="lv1">ì €ì²´ì¤‘</li>
              <li class="lv2">ì •ìƒ</li>
              <li class="lv3">ê³¼ì²´ì¤‘</li>
              <li class="lv4">ë¹„ë§Œ</li>
              <li class="lv5">ê³ ë„ë¹„ë§Œ</li>
            </ul>
            <span
                class="dot"
                id="bmi-dot"
                style="display: block; margin-left: ${bmiDotPosition}%;"
            ></span>
            <ul class="label">
              <li>&nbsp;</li>
              <li>18.5</li>
              <li>23</li>
              <li>25</li>
              <li>30</li>
            </ul>
          </div>
          <p>ì¢‹ì•„ìš”!</p>
        </div>
        <div class="recommend-wrap">
          <h4>ìƒí™œìŠµê´€ ê°œì„ ì´ í•„ìš”í•´ìš”</h4>
          <ul class="bullet-item"></ul>
        </div>
        <p>* ë³¸ ê²°ê³¼ëŠ” ì˜ì‚¬ì˜ ì²˜ë°©ì„ ëŒ€ì‹ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
      </div>
    </section>
    <div class="survey-nav">
      <h2>
        ì¶”ì²œì˜ì–‘ì„±ë¶„
        <em id="selected-count">0</em>
      </h2>
      <ul>
        <li class="nav-item" data-illness="eyes">
          <div class="img-wrap" style="background-color: #f9d4bf">
            <img src="/img/ë£¨í…Œì¸.png" alt="" />
          </div>
          <div class="text-wrap">
            <p>ë£¨í…Œì¸</p>
          </div>
        </li>
        <li class="nav-item" data-illness="antioxidation">
          <div class="img-wrap" style="background-color: lightyellow">
            <img src="/img/ë¹„íƒ€ë¯¼B.png" alt="" />
          </div>
          <div class="text-wrap">
            <p>ë¹„íƒ€ë¯¼C</p>
          </div>
        </li>
        <li class="nav-item" data-illness="joint">
          <div class="img-wrap" style="background-color: #ebf5f5">
            <img src="/img/ì¹¼ìŠ˜.png" alt="" />
          </div>
          <div class="text-wrap">
            <p>ì¹¼ìŠ˜</p>
          </div>
        </li>

      </ul>
    </div>
    <!--    ì˜ì–‘ì„±ë¶„ ë¶„ì„-->
    <section
        id="omega3"
        class="hidden"
        data-title="ì˜¤ë©”ê°€3"
        data-color="#b1d9f2"
    >
      <div class="inner">
        <div
            class="header result-content-header"
            data-color="#b1d9f2"
            style="background-color: rgba(249, 212, 191, 0.5)"
        >
          <div class="left">
            <h4>Omega 3</h4>
            <ul>
              <li># Helps improve blood triglycerides</li>
              <li># Helps improve blood circulation</li>
              <li># Helps with eye health</li>
            </ul>
            <p>* Recommended for 67.32% of men in their early 30s.</p>
          </div>
          <div class="right">
            <ul class="tag">
              <li>
                <span class="icon icon-eye"></span>
                <p>ëˆˆ</p>
              </li>
              <li>
                <span class="icon icon-heart"></span>
                <p>í˜ˆì•¡ìˆœí™˜</p>
              </li>
            </ul>
            <div class="rating">
              <div class="progress" data="4.0">
                <canvas width="40" height="40"></canvas>
              </div>
              <span class="value">4.0</span>
            </div>
            <p class="rating-label">ì¶”ì²œì ìˆ˜</p>
          </div>
        </div>
        <div class="content">
          <h1>ì¶”ì²œ ì˜ì–‘ì œ</h1>
          <p>
            ë¶„ì„ ê²°ê³¼ë¥¼ í† ëŒ€ë¡œ ì¶”ì²œí•˜ëŠ” ì˜ì–‘ì œì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì´
            ê¶ê¸ˆí•˜ë‹¤ë©´ ì œí’ˆì„ í´ë¦­í•´ì£¼ì„¸ìš”
          </p>
          <ul id="result">
            <li>
              <span id="illness-value"></span>
              <a
                  href="https://search.shopping.naver.com/catalog/21839321494?query=%EC%98%A4%EB%A9%94%EA%B0%803&NaPm=ct%3Dlgk86zo0%7Cci%3Daab56bbae994c01b9c17472b65b8e5df198d71a6%7Ctr%3Dslsl%7Csn%3D95694%7Chk%3D07a53635ea041363f45bacdbe51195011f956f24"
              >
                <img
                    src="/img/í”„ë¡œë©”ê°€ì˜¤ë©”ê°€3.jpg"
                    alt=""
                    width="100"
                    height="100"
                />
              </a>
            </li>
          </ul>
        </div>
        <div class="footer omega3"></div>
      </div>
    </section>
    <section
        id="hyals"
        class="hidden"
        data-title="íˆì•Œë£¨ë¡ ì‚°"
        data-color="#f9d4bf"
    >
      <div class="inner">
        <div
            class="header result-content-header"
            data-color="#f9d4bf"
            style="background-color: rgba(214, 240, 254, 0.5)"
        >
          <div class="left2">
            <h4>íˆì•Œë£¨ë¡ ì‚°</h4>
            <ul>
              <li># ì†Œí™”ê³¼ì •ì— í•„ìš”í•œ ë°œíš¨íš¨ì†Œ</li>
            </ul>
          </div>
          <div class="right">
            <ul class="tag">
              <li>
                <span class="icon icon-eye"></span>
                <p>ëˆˆ</p>
              </li>
              <li>
                <span class="icon icon-heart"></span>
                <p>í˜ˆì•¡ìˆœí™˜</p>
              </li>
            </ul>
            <div class="rating">
              <div class="progress" data="4.0">
                <canvas width="40" height="40"></canvas>
              </div>
              <span class="value">4.0</span>
            </div>
            <p class="rating-label">ì¶”ì²œì ìˆ˜</p>
          </div>
        </div>
        <div class="content">
          <h1>ì¶”ì²œ ì˜ì–‘ì œ</h1>
          <p>
            ë¶„ì„ ê²°ê³¼ë¥¼ í† ëŒ€ë¡œ ì¶”ì²œí•˜ëŠ” ì˜ì–‘ì œì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì´
            ê¶ê¸ˆí•˜ë‹¤ë©´ ì œí’ˆì„ í´ë¦­í•´ì£¼ì„¸ìš”
          </p>
          <ul id="result3">
            <li>
              <a
                  href="https://search.shopping.naver.com/catalog/21839321494?query=%EC%98%A4%EB%A9%94%EA%B0%803&NaPm=ct%3Dlgk86zo0%7Cci%3Daab56bbae994c01b9c17472b65b8e5df198d71a6%7Ctr%3Dslsl%7Csn%3D95694%7Chk%3D07a53635ea041363f45bacdbe51195011f956f24"
              >
                <img
                    src="/img/í”„ë¡œë©”ê°€ì˜¤ë©”ê°€3.jpg"
                    alt=""
                    width="100"
                    height="100"
                />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </section>
    <section
        id="probiotics"
        class="hidden"
        data-title="í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤"
        data-color="#efe9d9"
    >
      <div class="inner">
        <div
            class="header result-content-header"
            data-color="#efe9d9"
            style="background-color: rgba(255, 255, 227, 0.5)"
        >
          <div class="left3">
            <h4>í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤</h4>
            <ul>
              <li># ìœ ì‚°ê·  ì¦ì‹ ë° ìœ í•´ê·  ì–µì œ</li>
              <li># ë°°ë³€í™œë™ ì›í™œì— ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìŒ</li>
            </ul>
          </div>
          <div class="right">
            <ul class="tag">
              <li>
                <span class="icon icon-eye"></span>
                <p>ëˆˆ</p>
              </li>
              <li>
                <span class="icon icon-heart"></span>
                <p>í˜ˆì•¡ìˆœí™˜</p>
              </li>
            </ul>
            <div class="rating">
              <div class="progress" data="4.0">
                <canvas width="40" height="40"></canvas>
              </div>
              <span class="value">4.0</span>
            </div>
            <p class="rating-label">ì¶”ì²œì ìˆ˜</p>
          </div>
        </div>
        <div class="content">
          <h1>ì¶”ì²œ ì˜ì–‘ì œ</h1>
          <p>
            ë¶„ì„ ê²°ê³¼ë¥¼ í† ëŒ€ë¡œ ì¶”ì²œí•˜ëŠ” ì˜ì–‘ì œì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì´
            ê¶ê¸ˆí•˜ë‹¤ë©´ ì œí’ˆì„ í´ë¦­í•´ì£¼ì„¸ìš”
          </p>
          <ul id="result2">
            <li>
              <a
                  href="https://search.shopping.naver.com/catalog/21839321494?query=%EC%98%A4%EB%A9%94%EA%B0%803&NaPm=ct%3Dlgk86zo0%7Cci%3Daab56bbae994c01b9c17472b65b8e5df198d71a6%7Ctr%3Dslsl%7Csn%3D95694%7Chk%3D07a53635ea041363f45bacdbe51195011f956f24"
              >
                <img
                    src="/img/í”„ë¡œë©”ê°€ì˜¤ë©”ê°€3.jpg"
                    alt=""
                    width="100"
                    height="100"
                />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </section>
  </main>
  <footer>í‘¸í„°</footer>
</div>
<script th:src="@{../js/result.js}"></script>
<!--<script th:src="@{../js/illness.js}"></script>-->
<script>
      const jsonData = {
        eyes: {
          lutein: {
            name: 'ë£¨í…Œì¸',
            description:
              '# ë…¸í™”ë¡œ ì¸í•´ ê°ì†Œë  ìˆ˜ ìˆëŠ” í™©ë°˜ìƒ‰ì†Œë°€ë„ë¥¼ ìœ ì§€í•˜ì—¬ ëˆˆê±´ê°•ì— ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìŒ.\nã…¤\n # 1ì¼ ì„­ì·¨ëŸ‰ : ì„±ì¸ 20mg \nã…¤ã…¤',
          },
        },
        antioxidation: {
          vitaminC: {
            name: 'ë¹„íƒ€ë¯¼C',
            description:
              '# ê²°í•©ì¡°ì§ í˜•ì„±ê³¼ ê¸°ëŠ¥ìœ ì§€ì— í•„ìš”\nã…¤ \n# ì² ì˜ í¡ìˆ˜ì— í•„ìš” \nã…¤ \n# í•­ì‚°í™” ì‘ìš©ì„ í•˜ì—¬ ìœ í•´ì‚°ì†Œë¡œë¶€í„° ì„¸í¬ë¥¼ ë³´í˜¸í•˜ëŠ”ë° í•„ìš”\nã…¤ \n# 1ì¼ ì„­ì·¨ëŸ‰ : ì˜, ìœ ì•„ì˜ ê²½ìš° 35-45 mg, ì•„ë™ì€ 50-90 mg, ì„±ì¸ì€ 100 mg, ì„ì‚°ë¶€ì™€ í¡ì—°ìëŠ” 130-140 mg \nã…¤',
          },
        },
        joint: {
          calcium: {
            name: 'ì¹¼ìŠ˜ã†ë§ˆê·¸ë„¤ìŠ˜',
            description:
              '# ë¼ˆì™€ ì¹˜ì•„ í˜•ì„±ì— í•„ìš” \nã…¤ \n# ì‹ ê²½ê³¼ ê·¼ìœ¡ ê¸°ëŠ¥ ìœ ì§€ì— í•„ìš”\nã…¤ \n# ì •ìƒì ì¸ í˜ˆì•¡ì‘ê³ ì— í•„ìš”\nã…¤ \n# ê³¨ë‹¤ê³µì¦ë°œìƒ ìœ„í—˜ ê°ì†Œì— ë„ì›€ì„ ì¤Œ\nã…¤ \n# 1ì¼ ì„­ì·¨ëŸ‰: ì„±ì¸ 6~700mg \nã…¤',
          },
        },
      };

      // URLì—ì„œ illness ê°’ ì¶”ì¶œ
      const urlParams = new URLSearchParams(window.location.search);
      const illness = urlParams.get('illness');

    const illnessArr = illness.split(',');
    const illnessArrArr = [illnessArr];

    if (illnessArr.includes('eyes')) {
      // ì½”ë“œ
    } else if (illnessArr.includes('joint') && illnessArr.includes('antioxidation')) {
      // ì½”ë“œ
    } else if (illnessArr.includes('joint')) {
      // ì½”ë“œ
    } else if (illnessArr.includes('antioxidation')) {
      // ì½”ë“œ
    } else {
      console.error(`Could not find the illness: ${illness}`);
    }

      // HTML ì½”ë“œ ë³€ê²½
      if (illness === 'eyes') {
        const jsonDataEyes = jsonData.eyes;
        const lutein = jsonDataEyes.lutein;

        const content = `
    <h4>${lutein.name}</h4>
    <ul>
      ${lutein.description
        .split('\n')
        .map(line => `<li>${line}</li>`)
        .join('')}
    </ul>
    <p>* Recommended for 67.32% of men in their early 30s.</p>
  `;
        const leftDiv = document.querySelector('#omega3 .left');
        if (!leftDiv) {
          console.error('Could not find leftDiv for eyes');
          console.error(new Error().stack);
          console.error(new Error().stack);
        } else {
          leftDiv.innerHTML = content;
        }
      }

      /*joint*/
      if (illness === 'joint') {
        const jsonDataJoint = jsonData.joint;
        const calcium = jsonDataJoint.calcium;

        const content = `
        <h4>${calcium.name}</h4>
        <ul>
          ${calcium.description
            .split('\n')
            .map(line => `<li>${line}</li>`)
            .join('')}
        </ul>
        <p>* Recommended for 67.32% of men in their early 30s.</p>
      `;

        const left2Div = document.querySelector('#hyals .left2');
        if (!left2Div) {
          console.error('Could not find left2Div for joint');
          console.error(new Error().stack);
        } else {
          left2Div.innerHTML = content;
        }
      }

      /* antioxidation */
      if (illness === 'antioxidation') {
        const jsonDataAntioxidation = jsonData.antioxidation;
        const vitaminC = jsonDataAntioxidation.vitaminC;

        const content = `
    <h4>${vitaminC.name}</h4>
    <ul>
      ${vitaminC.description
        .split('\n')
        .map(line => `<li>${line}</li>`)
        .join('')}
    </ul>
    <p>* Recommended for 67.32% of men in their early 30s.</p>
  `;
        const left3Div = document.querySelector('#probiotics .left3');
        if (!left3Div) {
          console.error('Could not find left3Div for antioxidation');
          console.error(new Error().stack);
        } else {
          left3Div.innerHTML = content;
        }
      }

      /*    eyes and joint    */
         if (illness.includes('eyes') && illness.includes('joint')) {
        const jsonDataEyes = jsonData.eyes;
        const lutein = jsonDataEyes.lutein;
        const jsonDataJoint = jsonData.joint;
        const calcium = jsonDataJoint.calcium;

        const eyesContent = `
          <h4>${lutein.name}</h4>
          <ul>
            ${lutein.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
        const jointContent = `
          <h4>${calcium.name}</h4>
          <ul>
            ${calcium.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;

        const omega3Div = document.querySelector('#omega3 .left');
        const hyalsDiv = document.querySelector('#hyals .left2');

        if (omega3Div && hyalsDiv) {
          omega3Div.innerHTML = eyesContent;
          hyalsDiv.innerHTML = jointContent;
        }
      }
        /*   eyes and anitoxidation     */
      if (illness.includes('eyes') && illness.includes('antioxidation')) {
        const jsonDataEyes = jsonData.eyes;
        const lutein = jsonDataEyes.lutein;
        const jsonDataAntioxidation = jsonData.antioxidation;
        const vitaminC = jsonDataAntioxidation.vitaminC;

        const eyesContent = `
          <h4>${lutein.name}</h4>
          <ul>
            ${lutein.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;

        const antioxidationContent = `
          <h4>${vitaminC.name}</h4>
          <ul>
            ${vitaminC.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;

        const omega3Div = document.querySelector('#omega3 .left');
        const probioticsDiv = document.querySelector('#probiotics .left3');

        if (omega3Div && probioticsDiv) {
          omega3Div.innerHTML = eyesContent;
          probioticsDiv.innerHTML = antioxidationContent;
        }
      }

     /* joint and antioxidation */
      if (illness.includes('joint') && illness.includes('antioxidation')) {
        const jsonDataJoint = jsonData.joint;
        const calcium = jsonDataJoint.calcium;
        const jsonDataAntioxidation = jsonData.antioxidation;
        const vitaminC = jsonDataAntioxidation.vitaminC;

        const jointContent = `
          <h4>${calcium.name}</h4>
          <ul>
            ${calcium.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;

        const antioxidationContent = `
          <h4>${vitaminC.name}</h4>
          <ul>
            ${vitaminC.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
        const hyalsDiv = document.querySelector('#hyals .left2');
        const probioticsDiv = document.querySelector('#probiotics .left3');

        if (hyalsDiv && probioticsDiv) {
          hyalsDiv.innerHTML = jointContent;
          probioticsDiv.innerHTML = antioxidationContent;
        }
      }


/* eyes and joint and antioxidation */
// If illness includes eyes, joint, or antioxidation
if (
  illness.includes('eyes') &&
  illness.includes('joint') &&
  illness.includes('antioxidation')
) {
  const jsonDataEyes = jsonData.eyes;
  const lutein = jsonDataEyes.lutein;
  const jsonDataJoint = jsonData.joint;
  const calcium = jsonDataJoint.calcium;
  const jsonDataAntioxidation = jsonData.antioxidation;
  const vitaminC = jsonDataAntioxidation.vitaminC;

  const eyesContent = `
          <h4>${lutein.name}</h4>
          <ul>
            ${lutein.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
  const jointContent = `
          <h4>${calcium.name}</h4>
          <ul>
            ${calcium.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
  const antioxidationContent = `
          <h4>${vitaminC.name}</h4>
          <ul>
            ${vitaminC.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
  const omega3Div = document.querySelector('#omega3 .left');
  const hyalsDiv = document.querySelector('#hyals .left2');
  const probioticsDiv = document.querySelector('#probiotics .left3');

  if (omega3Div && hyalsDiv && probioticsDiv) {
    omega3Div.innerHTML = eyesContent;
    hyalsDiv.innerHTML = jointContent;
    probioticsDiv.innerHTML = antioxidationContent;
  }
}

 // Show relevant section and hide others
  const omega3Section = document.querySelector('#omega3');
  const hyalsSection = document.querySelector('#hyals');
  const probioticsSection = document.querySelector('#probiotics');

  console.log('illness:', illness);
  console.log('omega3Section:', omega3Section);
  console.log('hyalsSection:', hyalsSection);
  console.log('probioticsSection:', probioticsSection);

if (!omega3Section || !hyalsSection || !probioticsSection) {
  console.error('Could not find sections');
  console.error(new Error().stack);
} else {
  if (illness === 'eyes') {
    omega3Section.classList.remove('hidden');
    hyalsSection.classList.add('hidden');
    probioticsSection.classList.add('hidden');
  } else if (illness === 'joint') {
    omega3Section.classList.add('hidden');
    hyalsSection.classList.remove('hidden');
    probioticsSection.classList.add('hidden');
  } else if (illness === 'antioxidation') {
    omega3Section.classList.add('hidden');
    hyalsSection.classList.add('hidden');
    probioticsSection.classList.remove('hidden');
  } else if (illness.includes('eyes') && illness.includes('antioxidation')) {
    omega3Section.classList.remove('hidden');
    hyalsSection.classList.add('hidden');
    probioticsSection.classList.remove('hidden');
  } else if (illness.includes('eyes') && illness.includes('joint')) {
    omega3Section.classList.remove('hidden');
    hyalsSection.classList.remove('hidden');
    probioticsSection.classList.add('hidden');
  } else if (illness.includes('joint') && illness.includes('antioxidation')) {
    omega3Section.classList.add('hidden');
    hyalsSection.classList.remove('hidden');
    probioticsSection.classList.remove('hidden');
  } console.log('illness:', illness);
if (illness.includes('eyes') && illness.includes('joint') && illness.includes('antioxidation')) {
  console.log('all conditions met');
  omega3Section.classList.remove('hidden');
  hyalsSection.classList.remove('hidden');
  probioticsSection.classList.remove('hidden');
}

  console.log('omega3Section after:', omega3Section);
  console.log('hyalsSection after:', hyalsSection);
  console.log('probioticsSection after:', probioticsSection);
}

  function showItemsByIllness(illness) {
  // illness ê°’ì— í•´ë‹¹í•˜ëŠ” li ìš”ì†Œë¥¼ ì„ íƒí•©ë‹ˆë‹¤.
  let $items = $('li.nav-item[illness*=' + illness + ']');

  // ì„ íƒëœ ìš”ì†Œì˜ display ì†ì„±ì„ blockìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
  $items.css('display', 'block');
}
function hideItemsByIllness(illness) {
  // illness ê°’ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” li ìš”ì†Œë¥¼ ì„ íƒí•©ë‹ˆë‹¤.
  let $items = $('li.nav-item:not([illness*=' + illness + '])');

  // ì„ íƒëœ ìš”ì†Œì˜ display ì†ì„±ì„ noneìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
  $items.css('display', 'none');
}
// illness ê°’ì´ "eyes"ì¸ ê²½ìš°
if (illness === "eyes") {
  // "eyes" ê´€ë ¨ ì˜ì–‘ì„±ë¶„ì„ í‘œì‹œí•˜ê³ ,
  showItemsByIllness("eyes");
  // "eyes" ê´€ë ¨ ì˜ì–‘ì„±ë¶„ ì´ì™¸ì˜ ê²ƒë“¤ì„ ìˆ¨ê¹ë‹ˆë‹¤.
  hideItemsByIllness("eyes");
}
if (illness === "joint") {
  // "joint" ê´€ë ¨ ì˜ì–‘ì„±ë¶„ì„ í‘œì‹œí•˜ê³ ,
  showItemsByIllness("joint");
  // "joint" ê´€ë ¨ ì˜ì–‘ì„±ë¶„ ì´ì™¸ì˜ ê²ƒë“¤ì„ ìˆ¨ê¹ë‹ˆë‹¤.
  hideItemsByIllness("joint");
}
if (illness === "antioxidation") {
  // "antioxidation" ê´€ë ¨ ì˜ì–‘ì„±ë¶„ì„ í‘œì‹œí•˜ê³ ,
  showItemsByIllness("antioxidation");
  // "antioxidation" ê´€ë ¨ ì˜ì–‘ì„±ë¶„ ì´ì™¸ì˜ ê²ƒë“¤ì„ ìˆ¨ê¹ë‹ˆë‹¤.
  hideItemsByIllness("antioxidation");
}
</script>

<script>
         const params = new URLSearchParams(window.location.search);
const selectedIllness = params.get('illness');

/* ë‹¤ì¤‘ì„ íƒ ì´ë¯¸ì§€ */
const illnesses = ['eyes', 'joint', 'antioxidation'];

illnesses.forEach((illness) => {
  const recommendedItems = document.querySelectorAll(`[data-illness="${illness}"]`);
  recommendedItems.forEach((recommendedItem) => {
    recommendedItem.style.display = 'block';
  });
});

const navItems = document.querySelectorAll('.nav-item');

navItems.forEach(item => {
  item.style.display = 'none';
});

let recommendedNutrients = [];
let recommendedTexts = [];

if (selectedIllness.includes('eyes')) {
  recommendedNutrients.push('lutein');
  recommendedTexts.push('ë£¨í…Œì¸');
}

if (selectedIllness.includes('joint')) {
  recommendedNutrients.push('calcium');
  recommendedTexts.push('ì¹¼ìŠ˜ã†ë§ˆê·¸ë„¤ìŠ˜');
}

if (selectedIllness.includes('antioxidation')) {
  recommendedNutrients.push('vitaminC');
  recommendedTexts.push('ë¹„íƒ€ë¯¼C');
}

const selectedIllnesses = selectedIllness.split(',').map(i => i.trim());

selectedIllnesses.forEach(selectedIllness => {
  if (selectedIllness === 'eyes' && !recommendedNutrients.includes('lutein')) {
    recommendedNutrients.push('lutein');
    recommendedTexts.push('ë£¨í…Œì¸');
  }
  if (selectedIllness === 'joint' && !recommendedNutrients.includes('calcium')) {
    recommendedNutrients.push('calcium');
    recommendedTexts.push('ì¹¼ìŠ˜ã†ë§ˆê·¸ë„¤ìŠ˜');
  }
  if (selectedIllness === 'antioxidation' && !recommendedNutrients.includes('vitaminC')) {
    recommendedNutrients.push('vitaminC');
    recommendedTexts.push('ë¹„íƒ€ë¯¼C');
  }
});

/* ë°°ì—´ì— ìˆëŠ” ê°’ê³¼ ì¼ì¹˜í•˜ëŠ” ë°ì´í„°ë§Œ í™”ë©´ì— í‘œì‹œ */
const recommendedItems = document.querySelectorAll('.nav-item');

recommendedItems.forEach((item) => {
  if (recommendedNutrients.includes(item.dataset.id)) {
    item.style.display = 'block';
  } else {
    item.style.display = 'none';
  }
});

/* ë°°ì—´ì˜ ì²«ë²ˆì§¸ ê°’ì„ ì°¾ì•„ì„œ activeí´ë˜ìŠ¤ ì¶”ê°€ */
const navItem = document.querySelector(`[data-id="${recommendedNutrients[0]}"]`);

if (navItem) {
  navItem.classList.add('active');
}

/* ë‹¨ì¼ì„ íƒ ì´ë¯¸ì§€ */
const recommendedItem = document.querySelector(`[data-illness="${selectedIllness}"]`);

if (recommendedItem) {
  recommendedItem.style.display = 'block';
}

const heading = document.querySelector('.survey-nav h2');

if (heading) {
  heading.innerHTML = `ì¶”ì²œì˜ì–‘ì„±ë¶„ <em>${recommendedTexts.join(', ')}</em>`;
}

    </script>
</body>
</html>
