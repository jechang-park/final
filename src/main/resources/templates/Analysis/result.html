<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title th:text="${pageTitle}">결과</title>
  <link
      rel="stylesheet"
      href="/css/result.css"
      th:href="@{/css/result.css}"
  />

  <style>
      #height-value,
      #weight-value {
        display: none;
      }
      .hidden{display: none;}
    </style>
</head>
<body>
<div id="app">
  <!-- Header  -->
  <header id="header" class="store depth1">
    <div class="top">
      <div class="logo">
        <!-- &lt;!&ndash; 이미지 경로 바꿔주세요 &ndash;&gt; -->
        <a href="#" onclick="window.location.href='http://localhost:9080'">
          <img th:src="@{/img/black-yagiyo.png}" alt="" src="/" />
        </a>
      </div>
      <div class="search_box">
        <input
            class="searchbar"
            type="text"
            placeholder="영양제 성분 검색을 해보세요 💊 "
        />
        <div class="search_btn">
          <!-- &lt;!&ndash; 이미지 경로 바꿔주세요 &ndash;&gt; -->
          <img th:src="@{/img/search_div_icn.png}" alt="" />
        </div>
      </div>
      <nav class="gnb_box">
        <a href="">AI분석</a>
        <a href="">커뮤니티</a>
        <a href="">약국정보</a>
        <a href="">로그인</a>
      </nav>
    </div>
  </header>
  <main id="surveyv3" class="surveyv3-result" role="main">
    <section class="result-top">
      <div class="inner">
        <h3 id="result-name">
          <span id="name-value"></span>님의 건강설문 결과입니다
        </h3>
        <dl>
          <dt>성별:</dt>
          <span id="gender-value"></span>
          ㅤ
          <dt>나이:</dt>
          <span id="age-value"></span>
          <!-- Display BMI value -->
          ㅤ
          <dt class="open-bmi-layer">BMI:</dt>
          <span id="bmi-value"></span>
          <dd><span id="height-value"></span></dd>
          <dd><span id="weight-value"></span></dd>
        </dl>
        <div class="bmi-wrap">
          <div class="graph">
            <ul class="data">
              <li class="lv1">저체중</li>
              <li class="lv2">정상</li>
              <li class="lv3">과체중</li>
              <li class="lv4">비만</li>
              <li class="lv5">고도비만</li>
            </ul>
            <span
                class="dot"
                id="bmi-dot"
                style="display: block; margin-left: ${bmiDotPosition}%;"
            ></span>
            <ul class="label">
              <li>&nbsp;</li>
              <li>18.5</li>
              <li>23</li>
              <li>25</li>
              <li>30</li>
            </ul>
          </div>
          <p>좋아요!</p>
        </div>
        <div class="recommend-wrap">
          <h4>생활습관 개선이 필요해요</h4>
          <ul class="bullet-item"></ul>
        </div>
        <p>* 본 결과는 의사의 처방을 대신하지 않습니다.</p>
      </div>
    </section>
    <div class="survey-nav">
      <h2>
        추천영양성분
        <em id="selected-count">0</em>
      </h2>
      <ul>
        <li class="nav-item" data-illness="eyes">
          <div class="img-wrap" style="background-color: #f9d4bf">
            <img src="/img/루테인.png" alt="" />
          </div>
          <div class="text-wrap">
            <p>루테인</p>
          </div>
        </li>
        <li class="nav-item" data-illness="antioxidation">
          <div class="img-wrap" style="background-color: lightyellow">
            <img src="/img/비타민B.png" alt="" />
          </div>
          <div class="text-wrap">
            <p>비타민C</p>
          </div>
        </li>
        <li class="nav-item" data-illness="joint">
          <div class="img-wrap" style="background-color: #ebf5f5">
            <img src="/img/칼슘.png" alt="" />
          </div>
          <div class="text-wrap">
            <p>칼슘</p>
          </div>
        </li>

      </ul>
    </div>
    <!--    영양성분 분석-->
    <section
        id="omega3"
        class="hidden"
        data-title="오메가3"
        data-color="#b1d9f2"
    >
      <div class="inner">
        <div
            class="header result-content-header"
            data-color="#b1d9f2"
            style="background-color: rgba(249, 212, 191, 0.5)"
        >
          <div class="left">
            <h4>Omega 3</h4>
            <ul>
              <li># Helps improve blood triglycerides</li>
              <li># Helps improve blood circulation</li>
              <li># Helps with eye health</li>
            </ul>
            <p>* Recommended for 67.32% of men in their early 30s.</p>
          </div>
          <div class="right">
            <ul class="tag">
              <li>
                <span class="icon icon-eye"></span>
                <p>눈</p>
              </li>
              <li>
                <span class="icon icon-heart"></span>
                <p>혈액순환</p>
              </li>
            </ul>
            <div class="rating">
              <div class="progress" data="4.0">
                <canvas width="40" height="40"></canvas>
              </div>
              <span class="value">4.0</span>
            </div>
            <p class="rating-label">추천점수</p>
          </div>
        </div>
        <div class="content">
          <h1>추천 영양제</h1>
          <p>
            분석 결과를 토대로 추천하는 영양제입니다. 자세한 내용이
            궁금하다면 제품을 클릭해주세요
          </p>
          <ul id="result">
            <li>
              <span id="illness-value"></span>
              <a
                  href="https://search.shopping.naver.com/catalog/21839321494?query=%EC%98%A4%EB%A9%94%EA%B0%803&NaPm=ct%3Dlgk86zo0%7Cci%3Daab56bbae994c01b9c17472b65b8e5df198d71a6%7Ctr%3Dslsl%7Csn%3D95694%7Chk%3D07a53635ea041363f45bacdbe51195011f956f24"
              >
                <img
                    src="/img/프로메가오메가3.jpg"
                    alt=""
                    width="100"
                    height="100"
                />
              </a>
            </li>
          </ul>
        </div>
        <div class="footer omega3"></div>
      </div>
    </section>
    <section
        id="hyals"
        class="hidden"
        data-title="히알루론산"
        data-color="#f9d4bf"
    >
      <div class="inner">
        <div
            class="header result-content-header"
            data-color="#f9d4bf"
            style="background-color: rgba(214, 240, 254, 0.5)"
        >
          <div class="left2">
            <h4>히알루론산</h4>
            <ul>
              <li># 소화과정에 필요한 발효효소</li>
            </ul>
          </div>
          <div class="right">
            <ul class="tag">
              <li>
                <span class="icon icon-eye"></span>
                <p>눈</p>
              </li>
              <li>
                <span class="icon icon-heart"></span>
                <p>혈액순환</p>
              </li>
            </ul>
            <div class="rating">
              <div class="progress" data="4.0">
                <canvas width="40" height="40"></canvas>
              </div>
              <span class="value">4.0</span>
            </div>
            <p class="rating-label">추천점수</p>
          </div>
        </div>
        <div class="content">
          <h1>추천 영양제</h1>
          <p>
            분석 결과를 토대로 추천하는 영양제입니다. 자세한 내용이
            궁금하다면 제품을 클릭해주세요
          </p>
          <ul id="result3">
            <li>
              <a
                  href="https://search.shopping.naver.com/catalog/21839321494?query=%EC%98%A4%EB%A9%94%EA%B0%803&NaPm=ct%3Dlgk86zo0%7Cci%3Daab56bbae994c01b9c17472b65b8e5df198d71a6%7Ctr%3Dslsl%7Csn%3D95694%7Chk%3D07a53635ea041363f45bacdbe51195011f956f24"
              >
                <img
                    src="/img/프로메가오메가3.jpg"
                    alt=""
                    width="100"
                    height="100"
                />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </section>
    <section
        id="probiotics"
        class="hidden"
        data-title="프로바이오틱스"
        data-color="#efe9d9"
    >
      <div class="inner">
        <div
            class="header result-content-header"
            data-color="#efe9d9"
            style="background-color: rgba(255, 255, 227, 0.5)"
        >
          <div class="left3">
            <h4>프로바이오틱스</h4>
            <ul>
              <li># 유산균 증식 및 유해균 억제</li>
              <li># 배변활동 원활에 도움을 줄 수 있음</li>
            </ul>
          </div>
          <div class="right">
            <ul class="tag">
              <li>
                <span class="icon icon-eye"></span>
                <p>눈</p>
              </li>
              <li>
                <span class="icon icon-heart"></span>
                <p>혈액순환</p>
              </li>
            </ul>
            <div class="rating">
              <div class="progress" data="4.0">
                <canvas width="40" height="40"></canvas>
              </div>
              <span class="value">4.0</span>
            </div>
            <p class="rating-label">추천점수</p>
          </div>
        </div>
        <div class="content">
          <h1>추천 영양제</h1>
          <p>
            분석 결과를 토대로 추천하는 영양제입니다. 자세한 내용이
            궁금하다면 제품을 클릭해주세요
          </p>
          <ul id="result2">
            <li>
              <a
                  href="https://search.shopping.naver.com/catalog/21839321494?query=%EC%98%A4%EB%A9%94%EA%B0%803&NaPm=ct%3Dlgk86zo0%7Cci%3Daab56bbae994c01b9c17472b65b8e5df198d71a6%7Ctr%3Dslsl%7Csn%3D95694%7Chk%3D07a53635ea041363f45bacdbe51195011f956f24"
              >
                <img
                    src="/img/프로메가오메가3.jpg"
                    alt=""
                    width="100"
                    height="100"
                />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </section>
  </main>
  <footer>푸터</footer>
</div>
<script th:src="@{../js/result.js}"></script>
<!--<script th:src="@{../js/illness.js}"></script>-->
<script>
      const jsonData = {
        eyes: {
          lutein: {
            name: '루테인',
            description:
              '# 노화로 인해 감소될 수 있는 황반색소밀도를 유지하여 눈건강에 도움을 줄 수 있음.\nㅤ\n # 1일 섭취량 : 성인 20mg \nㅤㅤ',
          },
        },
        antioxidation: {
          vitaminC: {
            name: '비타민C',
            description:
              '# 결합조직 형성과 기능유지에 필요\nㅤ \n# 철의 흡수에 필요 \nㅤ \n# 항산화 작용을 하여 유해산소로부터 세포를 보호하는데 필요\nㅤ \n# 1일 섭취량 : 영, 유아의 경우 35-45 mg, 아동은 50-90 mg, 성인은 100 mg, 임산부와 흡연자는 130-140 mg \nㅤ',
          },
        },
        joint: {
          calcium: {
            name: '칼슘ㆍ마그네슘',
            description:
              '# 뼈와 치아 형성에 필요 \nㅤ \n# 신경과 근육 기능 유지에 필요\nㅤ \n# 정상적인 혈액응고에 필요\nㅤ \n# 골다공증발생 위험 감소에 도움을 줌\nㅤ \n# 1일 섭취량: 성인 6~700mg \nㅤ',
          },
        },
      };

      // URL에서 illness 값 추출
      const urlParams = new URLSearchParams(window.location.search);
      const illness = urlParams.get('illness');

    const illnessArr = illness.split(',');
    const illnessArrArr = [illnessArr];

    if (illnessArr.includes('eyes')) {
      // 코드
    } else if (illnessArr.includes('joint') && illnessArr.includes('antioxidation')) {
      // 코드
    } else if (illnessArr.includes('joint')) {
      // 코드
    } else if (illnessArr.includes('antioxidation')) {
      // 코드
    } else {
      console.error(`Could not find the illness: ${illness}`);
    }

      // HTML 코드 변경
      if (illness === 'eyes') {
        const jsonDataEyes = jsonData.eyes;
        const lutein = jsonDataEyes.lutein;

        const content = `
    <h4>${lutein.name}</h4>
    <ul>
      ${lutein.description
        .split('\n')
        .map(line => `<li>${line}</li>`)
        .join('')}
    </ul>
    <p>* Recommended for 67.32% of men in their early 30s.</p>
  `;
        const leftDiv = document.querySelector('#omega3 .left');
        if (!leftDiv) {
          console.error('Could not find leftDiv for eyes');
          console.error(new Error().stack);
          console.error(new Error().stack);
        } else {
          leftDiv.innerHTML = content;
        }
      }

      /*joint*/
      if (illness === 'joint') {
        const jsonDataJoint = jsonData.joint;
        const calcium = jsonDataJoint.calcium;

        const content = `
        <h4>${calcium.name}</h4>
        <ul>
          ${calcium.description
            .split('\n')
            .map(line => `<li>${line}</li>`)
            .join('')}
        </ul>
        <p>* Recommended for 67.32% of men in their early 30s.</p>
      `;

        const left2Div = document.querySelector('#hyals .left2');
        if (!left2Div) {
          console.error('Could not find left2Div for joint');
          console.error(new Error().stack);
        } else {
          left2Div.innerHTML = content;
        }
      }

      /* antioxidation */
      if (illness === 'antioxidation') {
        const jsonDataAntioxidation = jsonData.antioxidation;
        const vitaminC = jsonDataAntioxidation.vitaminC;

        const content = `
    <h4>${vitaminC.name}</h4>
    <ul>
      ${vitaminC.description
        .split('\n')
        .map(line => `<li>${line}</li>`)
        .join('')}
    </ul>
    <p>* Recommended for 67.32% of men in their early 30s.</p>
  `;
        const left3Div = document.querySelector('#probiotics .left3');
        if (!left3Div) {
          console.error('Could not find left3Div for antioxidation');
          console.error(new Error().stack);
        } else {
          left3Div.innerHTML = content;
        }
      }

      /*    eyes and joint    */
         if (illness.includes('eyes') && illness.includes('joint')) {
        const jsonDataEyes = jsonData.eyes;
        const lutein = jsonDataEyes.lutein;
        const jsonDataJoint = jsonData.joint;
        const calcium = jsonDataJoint.calcium;

        const eyesContent = `
          <h4>${lutein.name}</h4>
          <ul>
            ${lutein.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
        const jointContent = `
          <h4>${calcium.name}</h4>
          <ul>
            ${calcium.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;

        const omega3Div = document.querySelector('#omega3 .left');
        const hyalsDiv = document.querySelector('#hyals .left2');

        if (omega3Div && hyalsDiv) {
          omega3Div.innerHTML = eyesContent;
          hyalsDiv.innerHTML = jointContent;
        }
      }
        /*   eyes and anitoxidation     */
      if (illness.includes('eyes') && illness.includes('antioxidation')) {
        const jsonDataEyes = jsonData.eyes;
        const lutein = jsonDataEyes.lutein;
        const jsonDataAntioxidation = jsonData.antioxidation;
        const vitaminC = jsonDataAntioxidation.vitaminC;

        const eyesContent = `
          <h4>${lutein.name}</h4>
          <ul>
            ${lutein.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;

        const antioxidationContent = `
          <h4>${vitaminC.name}</h4>
          <ul>
            ${vitaminC.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;

        const omega3Div = document.querySelector('#omega3 .left');
        const probioticsDiv = document.querySelector('#probiotics .left3');

        if (omega3Div && probioticsDiv) {
          omega3Div.innerHTML = eyesContent;
          probioticsDiv.innerHTML = antioxidationContent;
        }
      }

     /* joint and antioxidation */
      if (illness.includes('joint') && illness.includes('antioxidation')) {
        const jsonDataJoint = jsonData.joint;
        const calcium = jsonDataJoint.calcium;
        const jsonDataAntioxidation = jsonData.antioxidation;
        const vitaminC = jsonDataAntioxidation.vitaminC;

        const jointContent = `
          <h4>${calcium.name}</h4>
          <ul>
            ${calcium.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;

        const antioxidationContent = `
          <h4>${vitaminC.name}</h4>
          <ul>
            ${vitaminC.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
        const hyalsDiv = document.querySelector('#hyals .left2');
        const probioticsDiv = document.querySelector('#probiotics .left3');

        if (hyalsDiv && probioticsDiv) {
          hyalsDiv.innerHTML = jointContent;
          probioticsDiv.innerHTML = antioxidationContent;
        }
      }


/* eyes and joint and antioxidation */
// If illness includes eyes, joint, or antioxidation
if (
  illness.includes('eyes') &&
  illness.includes('joint') &&
  illness.includes('antioxidation')
) {
  const jsonDataEyes = jsonData.eyes;
  const lutein = jsonDataEyes.lutein;
  const jsonDataJoint = jsonData.joint;
  const calcium = jsonDataJoint.calcium;
  const jsonDataAntioxidation = jsonData.antioxidation;
  const vitaminC = jsonDataAntioxidation.vitaminC;

  const eyesContent = `
          <h4>${lutein.name}</h4>
          <ul>
            ${lutein.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
  const jointContent = `
          <h4>${calcium.name}</h4>
          <ul>
            ${calcium.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
  const antioxidationContent = `
          <h4>${vitaminC.name}</h4>
          <ul>
            ${vitaminC.description
              .split('\n')
              .map(line => `<li>${line}</li>`)
              .join('')}
          </ul>
          <p>* Recommended for 67.32% of men in their early 30s.</p>
        `;
  const omega3Div = document.querySelector('#omega3 .left');
  const hyalsDiv = document.querySelector('#hyals .left2');
  const probioticsDiv = document.querySelector('#probiotics .left3');

  if (omega3Div && hyalsDiv && probioticsDiv) {
    omega3Div.innerHTML = eyesContent;
    hyalsDiv.innerHTML = jointContent;
    probioticsDiv.innerHTML = antioxidationContent;
  }
}

 // Show relevant section and hide others
  const omega3Section = document.querySelector('#omega3');
  const hyalsSection = document.querySelector('#hyals');
  const probioticsSection = document.querySelector('#probiotics');

  console.log('illness:', illness);
  console.log('omega3Section:', omega3Section);
  console.log('hyalsSection:', hyalsSection);
  console.log('probioticsSection:', probioticsSection);

if (!omega3Section || !hyalsSection || !probioticsSection) {
  console.error('Could not find sections');
  console.error(new Error().stack);
} else {
  if (illness === 'eyes') {
    omega3Section.classList.remove('hidden');
    hyalsSection.classList.add('hidden');
    probioticsSection.classList.add('hidden');
  } else if (illness === 'joint') {
    omega3Section.classList.add('hidden');
    hyalsSection.classList.remove('hidden');
    probioticsSection.classList.add('hidden');
  } else if (illness === 'antioxidation') {
    omega3Section.classList.add('hidden');
    hyalsSection.classList.add('hidden');
    probioticsSection.classList.remove('hidden');
  } else if (illness.includes('eyes') && illness.includes('antioxidation')) {
    omega3Section.classList.remove('hidden');
    hyalsSection.classList.add('hidden');
    probioticsSection.classList.remove('hidden');
  } else if (illness.includes('eyes') && illness.includes('joint')) {
    omega3Section.classList.remove('hidden');
    hyalsSection.classList.remove('hidden');
    probioticsSection.classList.add('hidden');
  } else if (illness.includes('joint') && illness.includes('antioxidation')) {
    omega3Section.classList.add('hidden');
    hyalsSection.classList.remove('hidden');
    probioticsSection.classList.remove('hidden');
  } console.log('illness:', illness);
if (illness.includes('eyes') && illness.includes('joint') && illness.includes('antioxidation')) {
  console.log('all conditions met');
  omega3Section.classList.remove('hidden');
  hyalsSection.classList.remove('hidden');
  probioticsSection.classList.remove('hidden');
}

  console.log('omega3Section after:', omega3Section);
  console.log('hyalsSection after:', hyalsSection);
  console.log('probioticsSection after:', probioticsSection);
}

  function showItemsByIllness(illness) {
  // illness 값에 해당하는 li 요소를 선택합니다.
  let $items = $('li.nav-item[illness*=' + illness + ']');

  // 선택된 요소의 display 속성을 block으로 설정합니다.
  $items.css('display', 'block');
}
function hideItemsByIllness(illness) {
  // illness 값에 해당하지 않는 li 요소를 선택합니다.
  let $items = $('li.nav-item:not([illness*=' + illness + '])');

  // 선택된 요소의 display 속성을 none으로 설정합니다.
  $items.css('display', 'none');
}
// illness 값이 "eyes"인 경우
if (illness === "eyes") {
  // "eyes" 관련 영양성분을 표시하고,
  showItemsByIllness("eyes");
  // "eyes" 관련 영양성분 이외의 것들을 숨깁니다.
  hideItemsByIllness("eyes");
}
if (illness === "joint") {
  // "joint" 관련 영양성분을 표시하고,
  showItemsByIllness("joint");
  // "joint" 관련 영양성분 이외의 것들을 숨깁니다.
  hideItemsByIllness("joint");
}
if (illness === "antioxidation") {
  // "antioxidation" 관련 영양성분을 표시하고,
  showItemsByIllness("antioxidation");
  // "antioxidation" 관련 영양성분 이외의 것들을 숨깁니다.
  hideItemsByIllness("antioxidation");
}
</script>

<script>
         const params = new URLSearchParams(window.location.search);
const selectedIllness = params.get('illness');

/* 다중선택 이미지 */
const illnesses = ['eyes', 'joint', 'antioxidation'];

illnesses.forEach((illness) => {
  const recommendedItems = document.querySelectorAll(`[data-illness="${illness}"]`);
  recommendedItems.forEach((recommendedItem) => {
    recommendedItem.style.display = 'block';
  });
});

const navItems = document.querySelectorAll('.nav-item');

navItems.forEach(item => {
  item.style.display = 'none';
});

let recommendedNutrients = [];
let recommendedTexts = [];

if (selectedIllness.includes('eyes')) {
  recommendedNutrients.push('lutein');
  recommendedTexts.push('루테인');
}

if (selectedIllness.includes('joint')) {
  recommendedNutrients.push('calcium');
  recommendedTexts.push('칼슘ㆍ마그네슘');
}

if (selectedIllness.includes('antioxidation')) {
  recommendedNutrients.push('vitaminC');
  recommendedTexts.push('비타민C');
}

const selectedIllnesses = selectedIllness.split(',').map(i => i.trim());

selectedIllnesses.forEach(selectedIllness => {
  if (selectedIllness === 'eyes' && !recommendedNutrients.includes('lutein')) {
    recommendedNutrients.push('lutein');
    recommendedTexts.push('루테인');
  }
  if (selectedIllness === 'joint' && !recommendedNutrients.includes('calcium')) {
    recommendedNutrients.push('calcium');
    recommendedTexts.push('칼슘ㆍ마그네슘');
  }
  if (selectedIllness === 'antioxidation' && !recommendedNutrients.includes('vitaminC')) {
    recommendedNutrients.push('vitaminC');
    recommendedTexts.push('비타민C');
  }
});

/* 배열에 있는 값과 일치하는 데이터만 화면에 표시 */
const recommendedItems = document.querySelectorAll('.nav-item');

recommendedItems.forEach((item) => {
  if (recommendedNutrients.includes(item.dataset.id)) {
    item.style.display = 'block';
  } else {
    item.style.display = 'none';
  }
});

/* 배열의 첫번째 값을 찾아서 active클래스 추가 */
const navItem = document.querySelector(`[data-id="${recommendedNutrients[0]}"]`);

if (navItem) {
  navItem.classList.add('active');
}

/* 단일선택 이미지 */
const recommendedItem = document.querySelector(`[data-illness="${selectedIllness}"]`);

if (recommendedItem) {
  recommendedItem.style.display = 'block';
}

const heading = document.querySelector('.survey-nav h2');

if (heading) {
  heading.innerHTML = `추천영양성분 <em>${recommendedTexts.join(', ')}</em>`;
}

    </script>
</body>
</html>
